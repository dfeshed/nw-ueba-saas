{
    "dashboardId": "user",
    "name": "{{@userName}}",
    "subtitle": "{{@jobTitle}}",
    "icon": {
        "type": "user"
    },
    "iconUrl": "{{@userImage}}",
    "controls": [
        {
            "type": "button",
            "text": "Compare to other users",
            "tooltip": "Compare this user to other users",
            "onClick": {
                "action": "innerUrl",
                "actionOptions": {
                    "url": "/d/user_comparison?users={{@entityId}}"
                }
            }
        }
    ],
    "columns": [
        {
            "className": "span4",
            "widgets": [
                {
                    "widgetId": "user_details",
                    "reportId": "user_details",
                    "report": {
                        "query": {
                            "params": [
                                {
                                    "dashboardParam": "entityId",
                                    "field": "username"
                                },
                                {
                                    "dashboardParam": "entityId",
                                    "field": "id"
                                }
                            ]
                        }
                    },
                    "onDataEvent": {
                        "action": "setParams",
                        "actionOptions": {
                            "updateUrl": false,
                            "params": {
                                "userName": { "itemIndex": 0, "value": "{{name || adDisplayName || samacountName || username || adUserPrincipalName}}" },
                                "jobTitle": { "itemIndex": 0, "value": "{{jobTitle}}", "setIf": "jobTitle" },
                                "userImage": { "itemIndex": 0, "value": "data:image/gif;base64,{{image}}", "setIf": "image" },
                                "vpnUser": { "itemIndex": 0, "value": "{{applicationUserDetails.vpn.userName}}" },
                                "loginsUser": { "itemIndex": 0, "value": "{{applicationUserDetails.active_directory.userName}}" }
                            }
                        }
                    }
                },
                {
                    "widgetId": "user_activity"
                },
                {
                    "widgetId": "user_machines",
                    "report": {
                        "query": {
                            "params": [
                                {
                                    "dashboardParam": "entityId",
                                    "field": "username"
                                },
                                {
                                    "dashboardParam": "entityId",
                                    "field": "id"
                                }
                            ]
                        }
                    }
                }
            ]
        },
        {
            "className": "span11",
            "widgets": [
                {
                    "widgetId": "user_scores_container"
                }
            ]
        }
    ]
}