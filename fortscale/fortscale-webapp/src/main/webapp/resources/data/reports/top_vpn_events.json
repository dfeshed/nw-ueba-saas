{
    "endpoint": {
        "api": "dataQuery",
        "dataQuery": {
            "entity": "vpn",
            "entitiesJoin": {
                "joinType": "right",
                "entity": "users",
                "joinFields": {
                    "left": "vpn.normalized_username",
                    "right": "users.normalized_username"
                }
            },
            "limit": 50,
            "fields": [ "vpn.*",
                "users.display_name", "users.id", "users.is_user_administrator", "users.is_user_executive", "users.account_is_disabled", "users.is_user_service", "users.followed"],
            "conditions": {
                "operator": "AND",
                "terms": [
					{
						"type": "field",
						"id": "event_time_utc",
						"operator": "dateRange",
						"valueParam": "dateRange"
					},
                    {
                        "type": "field",
                        "id": "event_score",
                        "operator": "greaterThanOrEquals",
                        "valueParam": "minscore"
                    }
                ]
            },
            "sort": [
                { "field": "event_score", "direction": "desc" },
                { "field": "event_time", "direction": "desc" }
            ]
        }
    },
    "params": [
		{
			"field": "dateRange",
			"dashboardParam": "top_10_vpn_event_dates",
			"isRequired": true
		},
        {
            "field": "minscore",
            "dashboardParam": "minscore",
            "default": 50
        },
        {
            "field": "users",
            "dashboardParam": "users",
            "value": " AND (users.{{users:join: = true OR users.}} = true)"
        }
    ],
    "_mock_data": "vpn_events"
}
