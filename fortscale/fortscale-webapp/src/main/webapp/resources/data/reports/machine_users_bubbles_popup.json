{
	"endpoint": {
		"api": "dataQuery",
		"dataQuery": {
			"fields": [
				{
					"id": "normalized_username"
				},
				{
					"entity": "users",
					"id": "id",
					"alias": "user_id"
				},
				{
					"entity": "users",
					"id": "total_score",
					"alias": "total_score"
				},
				{
					"alias": "normalized_username_count",
					"func": {
						"name": "count",
						"params": {
							"all": true
						}
					}
				}
			],
			"entitiesJoin": {
				"joinType": "right",
				"entity": "users",
				"joinFields": {
					"left": "normalized_username",
					"right": "users.normalized_username"
				}
			},
			"conditions": {
				"operator": "AND",
				"terms": [
					{
						"type": "field",
						"id": "destination_machine",
						"operator": "equals",
						"valueParam": "destination_machine"
					}
				]
			},
			"groupBy": [
				"normalized_username",
				"users.id",
				"users.total_score"
			],
			"sort": {
				"field": {"alias": "total_score"},
				"direction": "DESC"
			}
		}
	},
	"params": [
		{
			"dashboardParam": "name",
			"field": "destination_machine",
			"value": "{{name}}"
		}
	]
}


