{
    "renderControls": false,
    "renderHeader": false,
    "className": "no-margins widget-advance-one",
    "reportId": "user_scores",
    "refreshOn": ["userName"],
    "requiredParams": ["userName"],
    "views": [
        {
            "type": "tabs",
            "show": {
                "conditions": [{
                    "field": "{{currentFeature}}",
                    "operator": "hasValue"
                }]
            },
            "settings": {
                "tab": {
                    "display": "{{name}}",
                    "id": "{{id}}",
                    "selected": "@currentFeature"
                },
                "label": {
                    "value": "{{score}}",
                    "style": "score",
                    "styleParams": {
                        "value": "score"
                    }
                },
                "events": [
                    {
                        "eventName": "select",
                        "action": "setParams",
                        "actionOptions": {
                            "updateUrl": true,
                            "params": {
                                "currentFeature": "{{id}}"
                            }
                        }
                    }
                ],
                "refreshOn": ["currentFeature"]
            }
        },
        {
            "type": "barsChart",
            "show": {
                "conditions": [{
                    "field": "{{currentFeature}}",
                    "operator": "hasNoValue"
                }]
            },
            "settings": {
                "options": {
                    "height": "300px",
                    "width": "100%",
                    "createAxes": false,
                    "barLabelsFont": {
                        "size": 30,
                        "color": "#b7b7b7"
                    },
                    "labelsFont": {
                        "size": "20px"
                    },
                    "maxWidth": 400,
                    "selectable": true,
                    "highlightSelectedItem": false,
                    "selectLabels": false,
                    "showSelectionBar": false,
                    "tooltip": "{{seriesLabel}}'s {{barLabel}} score: {{barValue}}",
                    "values": {
                        "min": 0,
                        "max": 100
                    }
                },
                "series": [
                    {
                        "field": "score",
                        "label": "{{@userName}}",
                        "style": "score",
                        "styleParams": {
                            "value": "score"
                        }
                    },
                    {
                        "field": "avgScore",
                        "label": "Average user",
                        "color": "#e7e7e7",
                        "barLabelsColor": "#aaaaaa"
                    }
                ],
                "labels": {
                    "field": "name",
                    "value": "{{name}}",
                    "styleField": "score"
                },
                "description": "Click on the bars for a drill-down of the score:",
                "legend": {
                    "items": [
                        {
                            "value": "High",
                            "color": "#D77576"
                        },
                        {
                            "value": "Medium",
                            "color": "#F2CA3A"
                        },
                        {
                            "value": "Low",
                            "color": "#80BFF0"
                        },
                        {
                            "value": "Average User",
                            "color": "#e7e7e7"
                        }
                    ]
                },
                "selectionBar": {
                    "styleField": "score"
                },
                "events": [
                    {
                        "eventName": "click",
                        "action": "setParams",
                        "actionOptions": {
                            "updateUrl": true,
                            "params": {
                                "currentFeature": "{{id}}"
                            }
                        }
                    }
                ]
            }
        }
    ]
}