{
    "title": "{{@usersSeverity}} Severity",
    "className": "widget-normal-padding",
    "reportId": "users_severity",
    "refreshOn": [
        "usersSeverity"
    ],
    "controls": [
        {
            "type": "link",
            "text": "View all",
            "href": "#/d/investigator?entity=users&severity={{@usersSeverity}}"
        }
    ],
    "views": [
        {
            "type": "table",
            "settings": {
                "fields": [
                    {
                        "name": "Username",
                        "value": "{{userName}}",
                        "sortBy": "userName",
                        "link": "#/d/user/{{userId}}"
                    },
                    {
                        "name": "Trend",
                        "value": "{{trend}}%",
                        "sortBy": "trend"
                    },
                    {
                        "name": "Machines",
                        "field": "machines",
                        "sortBy": "machines",
                        "link": "#/d/investigator?entity=users_machines&username={{userId}}",
                        "transform": {
                            "method": "count"
                        },
                        "valueTooltip": {
                            "field": "machines",
                            "transform": {
                                "method": "arrayJoin",
                                "options": {
                                    "joiner": "\n"
                                }
                            }
                        }
                    },
                    {
                        "name": "Groups",
                        "field": "groups",
                        "sortBy": "groups",
                        "link": "#/d/investigator?entity=user_groups&username={{userId}}",
                        "transform": {
                            "method": "count"
                        },
                        "valueTooltip": {
                            "field": "groups",
                            "transform": {
                                "method": "arrayJoin",
                                "options": {
                                    "joiner": "\n"
                                }
                            }
                        }
                    },
                    {
                        "name": "Score",
                        "value": "{{score}}",
                        "sortBy": "score",
                        "sortDirection": -1,
                        "style": "score",
                        "styleParams": {
                            "value": "score"
                        }
                    }
                ]
            }
        }
    ]
}