morphlines: [
  {
    id: morphline1
    importCommands: ["org.kitesdk.morphline.**", "org.apache.solr.**", "fortscale.collection.morphlines.**"]
    commands: [
      {
        split {
          inputField: message
          outputFields: ["", "", "", "", eventCode]
          separator: "||"
        }
      }
      {
        if {
          conditions: [
            {equals {eventCode: ["4624"]}}
          ]
          then: [
            {
              split {
                inputField: message
                outputFields: ["", "", "", "", "", "", "", "", "", "", "", "", "", account_name]
                separator: "||"
              }
            }
          ]
          else: [
            {
              if {
                conditions: [
                  {equals {eventCode: ["4769"]}}
                ]
                then: [
                  {
                    split {
                      inputField: message
                      outputFields: ["", "", "", "", "", "", "", "", "", "", "", "", "", "", account_name]
                      separator: "||"
                    }
                  }
                ]
                else: [
                  {
                    split {
                      inputField: message
                      outputFields: ["", "", "", "", "", "", "", "", "", "", "", "", account_name]
                      separator: "||"
                    }
                  }
                ]
              }
            }
          ]
        }
      }
      {
        addValues {
          messageData: "@{message}"
        }
      }
      {
        EmptyObjectFilter {
          filterFields: [account_name, eventCode]
        }
      }
      {
        java {
          imports: "import java.util.*;"
          code:
            """
            Boolean isComputer = false;
            List<String> fieldValues = record.get("account_name");
            for(String account_name: fieldValues){
              if(account_name.contains("$")){
                isComputer = true;
                break;
              }
            }
            record.replaceValues("isComputer", isComputer);
            return child.process(record);
            """
        }
      }
    ]
  }
]