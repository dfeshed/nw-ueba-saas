morphlines : [
{
	id : morphline1
	importCommands : ["org.kitesdk.morphline.**", "org.apache.solr.**","fortscale.collection.morphlines.**"]

    commands : [
		{
	  		split {
	  			inputField : message
				outputFields : [date_time,messageData]
				separator : "|"
	  		}
	  	}
	  	{
	  		grok {
	  			dictionaryString : """
					EVENT_CODE (?<=EventCode\=)[0-9]+
					DummyTextCatcher .(?=\d)
					 """
				findSubstrings : true
			  	addEmptyStrings : true
			  	numRequiredMatches : atLeastOnce
			  	expressions : {
					messageData : "%{EVENT_CODE:eventCode}|%{DummyTextCatcher:dummy}"
			  	}
			}
	  	}

      #{logInfo {format: "Current record -  {}", args: ["@{}"]}}

      {
        EmptyObjectFilter {
          filterFields: [eventCode]
        }
      }

      #{logInfo {format: "After filter -  {}", args: ["@{}"]}}
	]
  }
]
