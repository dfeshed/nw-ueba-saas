{{#if isLoadingGroupRanking}}
  <div class='loading'>
    {{rsa-loader size='large'}}
  </div>
{{else}}
  {{#sortable-group onChange="reorderRanking" as |group|}}
    <table>
      <thead>
        <tr>
          <th>
          </th>
          <th>
            {{t 'adminUsm.groupRankingWizard.column.rank'}}
          </th>
          <th>
            {{t 'adminUsm.groupRankingWizard.column.groupName'}}
          </th>
          <th>
            {{t 'adminUsm.groupRankingWizard.column.policyApplied'}}
          </th>
          <th>
            {{t 'adminUsm.groupRankingWizard.column.nSources'}}
          </th>
        </tr>
      </thead>
      <tbody>
        {{#each groupRanking as |item index|}}
          {{#usm-groups/group-ranking/edit-ranking-step/row
            item=item
            group=group
            selectedItemId=selectedGroupRanking
            onRowClick=(action 'selectGroupRanking' item.name)}}
            <td class="reorder-item-cell">
              <centered>
                <span class="handle"></span>
              </centered>
            </td>
            <td class="group-rank-cell">
              {{add index 1}}
            </td>
            <td class="group-name-cell">
              {{item.name}}
            </td>
            <td class="policy-cell">
              {{#each-in item.assignedPolicies as |policy details|}}
                {{ details.name }}
              {{/each-in}}
            </td>
            <td class="n-sources-cell">
            </td>
          {{/usm-groups/group-ranking/edit-ranking-step/row}}
        {{/each}}
      </tbody>
    </table>
  {{/sortable-group}}
{{/if}}
