<article class="rsa-investigate-index">
  <section class="rsa-investigate-index__body {{model.services.status}}">
    {{#with model.services.status as |status|}}
      {{#if (is-equal status 'rejected')}}
        <p>{{t 'investigate.services.error.description'}}</p>
        {{#rsa-form-button style="danger"}}<span {{action (route-action "servicesGet" true)}}>{{t 'investigate.tryAgain'}}</span>{{/rsa-form-button}}
      {{else if (is-equal status 'wait')}}
        {{rsa-loader size="large" label=(t 'investigate.services.loading')}}
      {{else if (is-equal status 'resolved')}}
        {{#unless model.services.data.length}}
          <p>{{t 'investigate.services.empty.description'}}</p>
          {{#rsa-form-button style="danger"}}<span {{action (route-action "servicesGet" true)}}>{{t 'investigate.tryAgain'}}</span>{{/rsa-form-button}}
        {{else}}
          {{rsa-investigate/query-bar services=model.services.data servicesStatus=model.services.status onSubmit=(route-action "submitQuery")}}
        {{/unless}}
      {{/if}}
    {{/with}}
  </section>
</article>
