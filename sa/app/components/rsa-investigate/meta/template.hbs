{{#if (is-equal size 'min')}}
  <div class="mask size default" {{action "safeCallback" defaultSizeAction}}></div>
{{else}}
  {{#liquid-bind path class="liquid-slide-horizontal" as |currentPath|}}
    <header class="rsa-investigate-meta__header">
      <nav class="rsa-investigate-meta__nav">
        {{#if currentPath.length}}
          <span class="back"{{action "back"}}>{{rsa-icon name="arrow-left-12"}}</span>
        {{/if}}
        <h2>
          {{if currentPath.lastObject currentPath.lastObject.name (t "investigate.meta.title")}}
        </h2>
      </nav>
      <span class="rsa-investigate-meta__tools">
        {{#if (is-equal size 'max')}}
          <button class="size default" {{action "safeCallback" defaultSizeAction}}>{{rsa-icon name="shrink-12"}}</button>
          <button class="size min" {{action "safeCallback" minSizeAction}}>&#10005;</button>
        {{else}}
          <button class="size max" {{action "safeCallback" maxSizeAction}}>{{rsa-icon name="expand-12"}}</button>
          <button class="size min" {{action "safeCallback" minSizeAction}}>&#10005;</button>
        {{/if}}
      </span>
    </header>
    <section class="rsa-investigate-meta__body">
      {{#if currentPath.lastObject}}
        {{!show appropriate UI for known object types:}}
        {{#if (is-equal currentPath.lastObject.type 'key')}}
          {{!after user selected a meta key, show the meta values panel}}
          {{rsa-investigate/meta/values-panel}}
        {{else if (is-equal currentPath.lastObject.type 'group')}}
          {{!after user selected a meta group, show the meta keys panel}}
          {{rsa-investigate/meta/keys-panel keys=currentPath.lastObject.keys selectAction=(action "fwd")}}
        {{/if}}
      {{else}}
        {{!by default, show the meta groups panel so the user can choose one to browse}}
        {{rsa-investigate/meta/groups-panel groups=groups selectAction=(action "fwd")}}
      {{/if}}
    </section>
  {{/liquid-bind}}
{{/if}}