@mixin recon-sizing($reconWidth) {
  .rsa-investigate-query__body {
    &-master {
      right: $reconWidth;
      background-color: rsa-color(black,base,$rsa-nearly-transparent);
    }
    &-slave {
      width: $reconWidth;
    }
  }
}

.rsa-investigate-query {
  position: absolute;
  top: 0;
  bottom: 0;
  left: 0;
  right: 0;

  @include rsa-col(justify,fill);

  &__header {
    background-color: rsa-color(black,base,$rsa-translucent);
    @include rsa-vendor-prefix(flex-shrink, 1);
    margin: 1px 0;
  }

  &__summary {
    @include rsa-row(justify,fill);
    padding: rsa-whitespace(less) rsa-whitespace();

    .rsa-investigate-breadcrumb {
      @include rsa-vendor-prefix(flex-grow, 1);
    }
  }

  &__stats {
    @include rsa-vendor-prefix(flex-shrink, 1);
    @include rsa-col(right,fill);
  }

  &__sums-of {
    color: rsa-color(white,base,$rsa-nearly-opaque);
  }

  &__body {
    position: relative;   /* enables positioning of children */
    @include rsa-vendor-prefix(flex-grow, 1);

    &-master {
      position: absolute;
      top: 0;
      bottom: 0;
      left: 0;
      right: 0;
      transition-property: background-color right;
      transition-duration: 0.3s;
    }
    &-slave {
      position: absolute;
      top: 0;
      bottom: 0;
      right: 0;
      width: 0;
      transition: width .3s;
      overflow: hidden;
    }

    &.recon-is-open {
      @include recon-sizing($investigateReconWidth)
    }

    &.recon-is-expanded {
      @include recon-sizing($investigateReconExpandedWidth)
    }

    &-master-aside,
    &-master-main {
      position: absolute;
      top: 0;
      bottom: 0;
      transition-property: left, right, max-width, margin, opacity;
      transition-duration: 0.3s;
      transition-delay: 0s 0s 0s 0s 0.3s;
    }

    /* meta vs events: default arrangement */
    &-master-aside {
      left: 0;
      max-width: 2000px;
      right: 75%;
    }
    &-master-main {
      margin-left: 25%;
      left: 0;
      right: 0;
      opacity: 1;
      background-color: rsa-color(black,base,$rsa-nearly-transparent);
    }
    &.meta-panel-size-default {
      .rsa-investigate-query__body {
        &-master-aside:hover,
        &-master-main:hover {
          z-index: 2;
        }
      }
    }

    /* meta vs events: meta minimized */
    &.meta-panel-size-min {
      .rsa-investigate-query__body {
        &-master-aside {
          left: 0;
          max-width: 40px;
          z-index: 1;
          background-color: rsa-color(black,base,$rsa-nearly-transparent);
        }
        &-master-main {
          margin-left: 0;
          left: 40px;
          right: 0;
          z-index: 2;
        }
      }
    }

    /* meta vs events: meta minimized */
    &.meta-panel-size-max {
      .rsa-investigate-query__body {
        &-master-aside {
          left: 0;
          right: 40px;
          z-index: 2;
          box-shadow: rsa-color(black,base,$rsa-translucent) 3px 3px 3px;
        }
        &-master-main {
          transition-delay: 0s;
          opacity: 0;
        }
      }
    }
  }

  &__empty {
    z-index: 2;
    position: absolute;
    top: 0;
    bottom: 0;
    left: 0;
    right: 0;
    @include rsa-col(center,middle);

    h2 {
      @include rsa-font(header, large);
      padding: rsa-whitespace(less) 0;
      white-space: nowrap;
    }
  }

  &__aside,
  &__footer {
    display: none;
  }

  .rsa-investigate-breadcrumb {
    @include rsa-font(header, small);

    &__crumb {
      color: rsa-color(gray, lighter);

      &:last-of-type {
        @include rsa-font(body);
        color: rsa-color(white);
        margin-top: rsa-whitespace(less);
      }
    }
  }

  .rsa-investigate-meta {
    position: absolute;
    top: 0;
    bottom: 0;
    left: 0;
    right: 1px;
    background-color: rsa-color(black,base,$rsa-nearly-transparent);

    &__header,
    .mask {
      background-color: rsa-color(black,base,$rsa-nearly-transparent);
    }

    .rsa-list-button {
      color: rsa-color(white,base, $rsa-nearly-opaque);
      &:after {
        color: rsa-color(white,base, $rsa-nearly-transparent);
      }
      &:hover {
        color: rsa-color(white,base, $rsa-opaque);
        &:after {
          color: rsa-color(white,base, $rsa-translucent);
        }
      }
    }

    &-key-values__value {

      &:hover {
        .rsa-investigate-meta-key-values__value-label,
        .rsa-investigate-meta-key-values__value-metric {
          color: rsa-color(white);
        }
      }

      &-label {
        color: rsa-color(blue, lighter);
      }

      &-metric {
        color: rsa-color(green, lighter);

        &:before {
          content: '(';
          color: rsa-color(gray);
        }

        &:after {
          content: ')';
          color: rsa-color(gray);
        }
      }
    }
  }

  .rsa-progress-bar {
    position: absolute;
    top: 0;
    left: 0;
    right: 0;
    z-index: 2;
  }

  .rsa-investigate-timeline {
    position: absolute;
    top: 0;
    left: 0;
    right: 0;
    height: $investigateTimelineHeight;

    &__header {
      background-color: rsa-color(black,base,$rsa-nearly-transparent);
    }

    .rsa-chart {
      .domain,
      .tick line {
        stroke: rsa-color(black,base,$rsa-translucent);
      }
      .tick text {
        stroke-width: 0;
      }
    }
  }

  .rsa-data-table {
    position: absolute;
    top: $investigateTimelineHeight;
    bottom: 0;
    left: 0;
    right: 0;

    &-header {
      /* @workaround Clear defaults that were introduced for Response UI. */
      padding: 0;
      margin: 0;
      border: 0;
    }

    &-header-cell {
      border-right: 1px solid rsa-color(gray, base, $rsa-translucent);

      .title {
        display: block;
        padding: rsa-whitespace(less) rsa-whitespace();
      }
    }

    &-body-cell {
      border-right: 1px dashed rsa-color(black,base,$rsa-nearly-transparent);

      .content {
        display: block;
        padding: rsa-whitespace();
      }
    }

    &-body-row {
      border-bottom: 1px solid rsa-color(black,base,$rsa-nearly-transparent);
    }

    &-header {
      background-color: rsa-color(black,base,$rsa-nearly-transparent);
    }
  }

  .rsa-investigate-time-range {
    white-space: nowrap;
    margin-bottom: rsa-whitespace(less);
    @include rsa-font(header, small);

    &__sep,
    .date {
      color: rsa-color(white,base,$rsa-nearly-opaque);
      font-weight: normal;
    }
  }

  .recon-container {
    margin-left: 1px; /* let a sliver of background shows thru as a border */
  }

  .recon-event-header {
    background-color: rsa-color(black,base,$rsa-translucent);
    border: 0;    /* overwrite default */
  }
  .recon-event-content {
    margin-top: 1px; /* let a sliver of background shows thru as a border */
    background-color: transparent;  /* ovewrite default */
  }
  .event-content-box {
    border: 0;    /* ovewrite default */
  }
  .recon-event-detail-packets,
  .recon-meta-content {
    background-color: rsa-color(black,base,$rsa-translucent);
  }
  .recon-meta-content {
    margin-left: 1px; /* let a sliver of background shows thru as a border */
  }
}
