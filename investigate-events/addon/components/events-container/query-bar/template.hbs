{{#if selectedService.id}}
  {{#if isSummaryDataInvalid}}
    {{#rsa-form-button title=summaryErrorTooltip}}
      <div class="disclaimer">
        {{rsa-icon name='report-problem-triangle'}}
      </div>
    {{/rsa-form-button}}
  {{else}}
    {{#if hasSummaryData}}
      {{#rsa-form-button}}
        {{rsa-icon style='lined' name='server-3'}}
      {{/rsa-form-button}}
    {{else}}
      {{rsa-loader size='small' title='loading data'}}
    {{/if}}
  {{/if}}
{{else}}
  {{#rsa-form-button}}
    {{rsa-icon style='lined' name='server-3'}}
  {{/rsa-form-button}}
{{/if}}

{{#power-select
  class='rsa-investigate-query-bar__service'
  matchTriggerWidth=false
  onchange=(action 'setService')
  options=services
  placeholder='Select a Service'
  triggerClass=powerSelectClass
  searchEnabled=false
  selected=selectedService
  tagName='div' as |option|}}
  {{option.displayName}}
{{/power-select}}

{{#power-select
  class='rsa-investigate-query-bar__time-range'
  matchTriggerWidth=false
  onchange=(action 'setQueryTimeRange')
  disabled=(not hasSummaryData)
  options=timeRanges
  placeholder='Select a Time Range'
  searchEnabled=false
  selected=selectedTimeRange
  tagName='div' as |option|}}
  {{option.name}}
{{/power-select}}

{{#search-link disabled=(not hasRequiredValuesToQuery)}}
  {{#rsa-form-button
    class='rsa-investigate-query-bar__submit'
    isDisabled=(not hasRequiredValuesToQuery)
    style='primary'}}
    <span class='js-test-investigate-query-bar__submit'>Query Events</span>
  {{/rsa-form-button}}
{{/search-link}}
