{{#rsa-data-table
  lazy=true
  fitToWidth=true
  items=items
  selectedIndex=selectedIndex
  columnsConfig=extendedColumns
  language=language
  aliases=aliases
  onRowClick=(action 'onRowClick')
  loadLogsAction=(action 'eventsLogsGet')
  scrollToInitialSelectedIndex=true
  enableGrouping=true
  groupingSize=100
}}

  {{#rsa-data-table/header
    translateTitles=false
    enableColumnSelector=true as |column|}}
    {{#with (meta-key-alias column.field language) as |names|}}
      {{#if (eq column.field 'checkbox')}}
        <label class="rsa-form-checkbox-label {{if allEventsSelected 'checked'}}">
          {{rsa-form-checkbox
            checked=allEventsSelected
            change=(action 'toggleSelectAllEvents')
          }}
        </label>
      {{else}}
        <h2 class="title" title="{{if column.title column.title names.bothNames}}">
          <span class="js-move-handle">{{if column.title column.title names.displayName}}</span>
        </h2>
      {{/if}}
    {{/with}}
  {{/rsa-data-table/header}}

  {{events-table-container/body-container
    buffer=5
    selectedItems=selectedEventIds
    allItemsSelected=allEventsSelected
    rowComponentClass="events-table-container/row-container"
    noResultsMessage=noResultsMessage
  }}

  {{!--
    Utilizing load-more to take advantage of its ability to
    stick itself to the right place in the DOM
   --}}
  {{#rsa-data-table/load-more}}
    {{!-- still streaming, show loader --}}
    {{#if areEventsStreaming}}
      <div class='events-table-footer-status'>
        {{rsa-loader size="large" label=(t 'investigate.loading')}}
      </div>
    {{else if (is-equal status 'complete')}}
      {{#if (not allExpectedDataLoaded)}}
        {{!-- do not have all the data, say so --}}
        {{t 'investigate.notAllLoaded' maxEvents=maxEvents}}
      {{else if hasResults}}
        <div class='events-table-footer-status'>
          {{t 'investigate.allResultsLoaded'}}
        </div>
      {{/if}}
    {{else if hasPartialResults}}
      {{t 'investigate.partialResults'}}
    {{/if}}
  {{/rsa-data-table/load-more}}

{{/rsa-data-table}}


