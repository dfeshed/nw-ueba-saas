{{#rsa-data-table
  items=visibleItems
  selectedIndex=0
  lazy=true
  onRowClick=(action "handleRowClickAction")
  columnsConfig=columnsConfig}}

  {{#rsa-data-table/header as |column|}}
    {{t column.title}}
  {{/rsa-data-table/header}}
  {{#if isProcessTreeLoading}}
    <centered>
      {{rsa-loader size='medium'}}
    </centered>
  {{else}}
    {{#rsa-data-table/body
      noResultsMessage=(t 'investigateHosts.process.message.noResultsMessage')
      as |item index column|}}
      {{#if column.componentClass}}
        {{#rsa-data-table/body-cell item=item column=column}}
          {{#host-detail/process/pivot-to-process-analysis serviceList=serviceList agentId=agentId osType=osType hostName=hostName contextSelection=item}}
            {{host-detail/process/process-tree/process-name
              serviceList=serviceList
              agentId=agentId
              item=item
              index=index
              osType=osType
              onToggleExpand=(action 'handleToggleExpand')}}
          {{/host-detail/process/pivot-to-process-analysis}}
        {{/rsa-data-table/body-cell}}
      {{else}}
        {{rsa-data-table/body-cell item=item column=column}}
      {{/if}}
    {{/rsa-data-table/body}}
  {{/if}}
{{/rsa-data-table}}

