{{#rsa-data-table
  items=visibleItems
  selectedIndex=0
  lazy=true
  onRowClick=(action "handleRowClickAction")
  columnsConfig=columnsConfig}}

  {{#rsa-data-table/header as |column|}}
    {{#if (eq column.dataType "checkbox")}}
      <label class="rsa-form-checkbox-label  {{if areAllSelected 'checked'}}">
        {{rsa-form-checkbox checked=areAllSelected change=(action 'toggleAllSelection')}}
      </label>
    {{else}}
      <span class='js-move-handle'>
        {{t column.title}}
      </span>
    {{/if}}
  {{/rsa-data-table/header}}
  {{#if isProcessTreeLoading}}
    <centered>
      {{rsa-loader size='medium'}}
    </centered>
  {{else}}
    {{#rsa-data-table/body
      noResultsMessage=(t 'investigateHosts.process.message.noResultsMessage')
    as |item index column|}}
      {{#if column.componentClass}}
        {{#if (eq column.dataType 'tree-column')}}
          {{#rsa-data-table/body-cell item=item column=column}}
            {{host-detail/process/process-tree/process-name
              serviceList=serviceList
              agentId=agentId
              item=item
              index=index
              osType=osType
              onToggleExpand=(action 'handleToggleExpand')}}
          {{/rsa-data-table/body-cell}}
        {{else}}
          {{#rsa-data-table/body-cell item=item column=column}}
            <label class="rsa-form-checkbox-label {{if (is-selected selectedProcessList item) 'checked'}}">
              {{rsa-form-checkbox checked=false change=(action 'toggleProcessSelection' item)}}
            </label>
          {{/rsa-data-table/body-cell}}
        {{/if}}
      {{else}}
        {{#if (eq column.format 'DOWNLOADSTATUS')}}
          {{host-detail/utils/table-cell item=item column=column}}
        {{else}}
          {{rsa-data-table/body-cell item=item column=column}}
        {{/if}}
      {{/if}}
    {{/rsa-data-table/body}}
  {{/if}}
{{/rsa-data-table}}

