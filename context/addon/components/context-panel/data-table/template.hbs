<div class="rsa-context-panel__context-data-table__heading-text" >
  {{title}}{{headerdata}}
  {{#if lastUpdated}}
    <span title= {{title}}>
      {{t 'context.timeWindow'}}{{timeWindow}} |
      {{t 'context.lastUpdated'}}{{rsa-content-datetime timestamp=lastUpdated asTimeAgo=true}}
    </span>
  {{/if}}
</div>
{{#if errorMessage}}
  <div class='rsa-context-panel__error-text'>{{errorMessage}}</div>
{{else if data}}
  <div class="rsa-context-panel__context-data-table__panel">
    {{#rsa-data-table lazy=true items=data columnsConfig=modulesColumnListConfig}}
      {{#rsa-data-table/header as |column|}}
        <span class="js-move-handle js-header-cell {{column.class}} title rsa-data-table-title" title="{{if column.title (t column.title) column.field}}">{{if column.title (t column.title) column.field}}</span>
      {{/rsa-data-table/header}}
      {{#rsa-data-table/body as |item index column|}}
        {{#if (eq column.dataType 'riskscore')}}
          {{#rsa-data-table/body-cell item=item index=index column=column}}
            {{component column.componentClass
              item=item
              index=index
              column=column
              score=(get item column.nested )
              isInline=true
              style=(risk-score-to-badge-level (get item column.nested ))
            }}
          {{/rsa-data-table/body-cell}}
        {{else if (eq column.dataType 'riskRating')}}
          {{#rsa-data-table/body-cell item=item index=index column=column}}
            <span class={{get column.class (get item  column.field)}}>{{get item column.field}}</span>
          {{/rsa-data-table/body-cell}}
        {{else if (eq column.dataType 'datetime')}}
          {{#rsa-data-table/body-cell item=item index=index column=column}}
            {{#if (eq column.nested '')}}
              {{rsa-content-datetime timestamp=item }}{{rsa-content-datetime timestamp=item asTimeAgo=true}}
            {{else}}
              {{rsa-content-datetime timestamp=(get item column.nested )}}{{rsa-content-datetime timestamp=(get item column.nested )  asTimeAgo=true}}
            {{/if}}
          {{/rsa-data-table/body-cell}}
        {{else if (eq column.dataType 'link')}}
          <div class="rsa-context-panel__context-data-table__itemsContainer">
            <a href={{call-method this 'constructPath' (get item column.nested)  column.path}} target="_blank">
              {{#rsa-data-table/body-cell  item=item index=index column=column isInline=true }}
                <span class="rsa-context-panel__context-data-table link" title={{get item column.field}}>{{get item column.field}}</span>
              {{/rsa-data-table/body-cell}}
            </a>
            <span class="rsa-context-panel__context-data-table__iconlink">{{rsa-icon style='lined' name='information-circle'}}</span>
          </div>

        {{else}}
          {{#if (eq column.nested '')}}
            {{#rsa-data-table/body-cell item=item index=index column=column isInline=true }}
              <span class={{column.className}} title={{get item column.field}}>{{get item column.field}}</span>
            {{/rsa-data-table/body-cell}}
          {{else}}
            {{rsa-data-table/body-cell item=(get item column.nested) index=index column=column isInline=true }}
          {{/if}}
        {{/if}}
      {{/rsa-data-table/body}}
    {{/rsa-data-table}}
  </div>
  {{#if (eq tabdata 'overview')}}
    <div class="rsa-context-panel__context-data-table__border"><button class="rsa-context-panel__context-data-table__button" {{action 'activate'}}>{{t 'context.footer.viewAll'}}</button></div>
  {{/if}}
{{else}}
    <div class='rsa-context-panel__error-text'>{{t 'context.error.noData'}}</div>
{{/if}}
